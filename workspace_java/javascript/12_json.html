<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        let array = [];

        // json 선언만 하는 방법
        let json = {};
        
        // 값을 미리 알고 있는 경우의 json 사용법
        json = {
            "key" : "value",
            "k" : "v",
            k1 : "v1", // 쌍따옴표를 쓰는게 좋지만 안써도 된다
            "num" : 123,
            "child" : {
                "child_1" : "value-1"
            },
            "a1" : array,
            "fn" : function(){
                console.log('익명함수 실행');
            }
        };
        // 꺼내는 방법
        console.log(json);
        console.log(""+json);
        
        console.log('json.k', json.k);
        console.log('json["k"]', json["k"]); // 배열처럼 접근
        let 숫자 = "num";
        console.log(json[숫자]); // 대괄호안에 문자가 들어간다는거에 착안해서
                                 // 변수에 담아서 사용할 수도 있다
        console.log(json.child.child_1); // json안에 json을 타고 들어감

        json.a1.push(123);
        json.a1.push(123);
        console.log(json.a1);

        json.fn();

        // 추가하는 방법
        json.a = "b";
        json["c"] = "d";
        console.log(json);
        
        delete json.key;
        console.log(json);

        console.log(json.human);

        // 모든 key를 가져오는 방법
        let keys = Object.keys(json);
        console.log(keys);
        // console.log(json[keys[0]])
        // console.log(json[keys[1]])
        for(let i = 0; i <keys.length; i++){
            console.log("키 :",keys[i],"벨류 :", json[keys[i]]);
        };

        // json을 문자열로 변환
        let strjson = JSON.stringify(json);
        console.log(strjson);

        // json 문법으로 적힌 문자열을 json 객체로 변환
        // json 으로 이루어진 배열도 변환 가능
        let json2 = JSON.parse(strjson);
        console.log(json2);

        let ajson = [];
        let json3 = {"k1":"v1"};
        let json4 = {"k2":"v2"};
        ajson.push(json3);
        ajson.push(json4);
        console.log(ajson);
        
        strjson = JSON.stringify(ajson);
        console.log(strjson);

        ajson = JSON.parse(strjson);
        console.log(ajson);

        // json이나 json으로만 이루어진 배열이 아닌 경우
        // {}이거나 [{}]의 형식이 아닌경우
        // parse에서 오류남
        // JSON.parse("a");


    </script>
</head>
<body>
    
</body>
</html>